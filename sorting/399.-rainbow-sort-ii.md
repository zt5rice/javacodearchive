---
description: Medium
---

# 399. Rainbow Sort II

Given an array of balls, where the color of the balls can only be Red, Green, Blue or Black, sort the balls such that all balls with same color are grouped together and from left to right the order is Red-&gt;Green-&gt;Blue-&gt;Black. \(Red is denoted by 0, Green is denoted by 1,  Blue is denoted by 2 and Black is denoted by 3\).

**Examples**

* {0} is sorted to {0}
* {1, 0} is sorted to {0, 1}
* {1, 3, 1, 2, 0} is sorted to {0, 1, 1, 2, 3}

**Assumptions**

* The input array is not null.

```text
public class Solution {
  public int[] rainbowSortIII(int[] array, int k) {
    if (array == null || array.length < 2) {
        return array;
    }
    int left = 0;
    int right = array.length - 1;
    for (int round = 1; round <= k / 2; round++) {
        // since leftColor + rightColor == k + 1
        int leftColor = round;
        int rightColor = k + 1 - round;
        for (int i = left; i <= right; i++) {
            if (array[i] == leftColor) {
                swap(array, i, left);
                left++;
            } else if (array[i] == rightColor) {
                swap(array, i, right);
                i--;
                right--;
            }
        }
    }
    return array;
  }

  private void swap(int[] array, int left, int right) {
      int tmp = array[left];
      array[left] = array[right];
      array[right] = tmp;
  }
}

```

```text
public class Solution {
  public int[] rainbowSortII(int[] array) {
    if (array == null || array.length == 0) {
      return array;
    }
    int k = 4;
    int[] c = new int[k];
    c[k-1] = array.length - 1;
    while (c[k-2] <= c[k-1]) { // c[k-2] is the moving cursor index
      // 1. array[c[k-2]] value at cursor, update after index
      int val = array[c[k-2]];
      if (val == 0) {
        swap(array, c[k-2], c[val]++);        // update the c[] vals inside
        update(c, val);
      } else if (val < k - 2) { // 1
        swap(array, c[k-2]++, c[val]++);
      } else if (val == k - 2) { // 2
        c[k-2]++;
      } else if (val == k - 1) { // 3
        swap(array, c[k-2], c[k-1]--);
      }     
    }
    return array;
  }
  private void update(int[] c, int init) {
    for (int i = init; i < c.length - 1; i++) {
      if (c[init] > c[i]) {
        c[i] = c[init];
      }
    }
  }
  private void swap(int[] array, int left, int right) {
    int tmp = array[left];
    array[left] = array[right];
    array[right] = tmp;
  }
}

```

